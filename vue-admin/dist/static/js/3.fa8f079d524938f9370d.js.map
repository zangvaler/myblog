{"version":3,"sources":["webpack:///src/view/tag.vue","webpack:///./src/view/tag.vue?f067","webpack:///./src/view/tag.vue"],"names":["__webpack_require__","tag","data","color","background","addModal","DeleteModal","index","Tagname","taglist","methods","openTagmodal","_this","this","asyncToGenerator_default","regenerator_default","a","mark","_callee","id","wrap","_context","prev","next","forEach","item","indexone","_id","Object","api","tagid","sent","status","api_cfg","OK","splice","stop","CancelTagmodal","DeleteTag","getTag","_this2","_callee2","res","_context2","length","$store","commit","type","tagList","addTag","comfirmAddTag","_this3","_callee3","colornum","backgroundnum","_context3","Math","floor","random","tagname","backgroundColor","push","cancel","mounted","view_tag","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_l","key","attrs","_s","on","click","$event","title","visible","okText","cancelText","ok","placeholder","model","value","callback","$$v","expression","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.fa8f079d524938f9370d.js","sourcesContent":["<template>\n  <div>\n    <a-card class=\"blogList\">\n      <div class=\"title\">\n        <p>标签</p>\n      </div>\n      <div class=\"content\">\n        <div class=\"taglist\">\n          <div class=\"tag\" v-for=\"(item, index) in taglist\" :key=\"index\">\n            <a-tag class=\"atag\" :color=\"item.color\">{{item.tagname}}\n              <a-icon class=\"delete\" type=\"close\" @click=\"DeleteTag(index)\" />\n            </a-tag>\n          </div>\n          <div class=\"addtag\" @click=\"addTag\">\n            <a-icon class=\"add\" type=\"plus\" />\n            <p>New Tag</p>\n          </div>\n        </div>\n      </div>\n    </a-card>\n    <a-modal title=\"添加标签\" :visible=\"addModal\" okText=\"确认添加\" cancelText=\"取消\" @ok=\"comfirmAddTag\" @cancel=\"cancel\" class=\"addmodal\">\n      <div class=\"tag\">\n        <p>标签名:</p>\n        <a-input v-model=\"Tagname\" class=\"tagname\" placeholder=\"请输入要添加的标签名\" />\n      </div>\n    </a-modal>\n    <a-modal title=\"删除标签\" :visible=\"DeleteModal\" okText=\"确认删除\" cancelText=\"取消\" @ok=\"openTagmodal\" @cancel=\"CancelTagmodal\">\n      <p>您要删除此条标签吗?</p>\n    </a-modal>\n  </div>\n</template>\n\n<script>\nimport { Deletetag,fingtag,addtag } from '../api/index.js'\nimport { statusCode } from '../api/api.cfg.js'\n\nrequire('../viewstyle/tag.scss')\nexport default {\n  data () {\n    return {\n      color: ['green','red','orange',\n        'cyan','blue','purple'],\n      background: ['green','red','orange',\n        'cyan','blue','purple'],\n      addModal: false,\n      DeleteModal: false,\n      index: 0,\n      Tagname: '',\n      taglist: []\n    }\n  },\n  methods: {\n    async openTagmodal () {\n      let id=''\n      this.taglist.forEach((item,indexone) => {\n        if(this.index==indexone) {\n          id=item._id\n        }\n      })\n      const res=await Deletetag({\n        methods: 'DeleteTag',\n        tagid: id\n      })\n      if(res.status==statusCode.OK) {\n        this.taglist.splice(this.index,1)\n      }\n      this.DeleteModal=false\n    },\n    CancelTagmodal () {\n      this.DeleteModal=false\n    },\n    // 删除标签\n    DeleteTag (index) {\n      this.DeleteModal=true\n      this.index=index\n    },\n    // 获得标签\n    async getTag () {\n      const res=await fingtag()\n      if(res.status==statusCode.OK) {\n        if(res.data.length>0) {\n          this.taglist=res.data\n          this.$store.commit({\n            type: 'changetaglist',\n            tagList: this.taglist\n          })\n        }\n      }\n    },\n    addTag () {\n      this.addModal=true\n    },\n    // 确认添加\n    async comfirmAddTag () {\n      let colornum=Math.floor(Math.random()*6);\n      let backgroundnum=Math.floor(Math.random()*6);\n      // 添加的对象\n      let addTag={\n        methods: 'Taginsert',\n        tagname: this.Tagname,\n        color: this.color[colornum],\n        backgroundColor: this.background[backgroundnum]\n      }\n      const res=await addtag({\n        methods: 'Taginsert',\n        tagname: this.Tagname,\n        color: this.color[colornum],\n        backgroundColor: this.background[backgroundnum]\n      })\n      if(res.status==statusCode.OK) {\n        this.taglist.push(addTag)\n        // 刷新获取数据库\n        this.getTag();\n      }\n      this.addModal=false\n    },\n    // 取消\n    cancel () {\n      this.addModal=false\n    }\n  },\n  mounted () {\n    this.getTag();\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/view/tag.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-card',{staticClass:\"blogList\"},[_c('div',{staticClass:\"title\"},[_c('p',[_vm._v(\"标签\")])]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"taglist\"},[_vm._l((_vm.taglist),function(item,index){return _c('div',{key:index,staticClass:\"tag\"},[_c('a-tag',{staticClass:\"atag\",attrs:{\"color\":item.color}},[_vm._v(_vm._s(item.tagname)+\"\\n            \"),_c('a-icon',{staticClass:\"delete\",attrs:{\"type\":\"close\"},on:{\"click\":function($event){_vm.DeleteTag(index)}}})],1)],1)}),_vm._v(\" \"),_c('div',{staticClass:\"addtag\",on:{\"click\":_vm.addTag}},[_c('a-icon',{staticClass:\"add\",attrs:{\"type\":\"plus\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"New Tag\")])],1)],2)])]),_vm._v(\" \"),_c('a-modal',{staticClass:\"addmodal\",attrs:{\"title\":\"添加标签\",\"visible\":_vm.addModal,\"okText\":\"确认添加\",\"cancelText\":\"取消\"},on:{\"ok\":_vm.comfirmAddTag,\"cancel\":_vm.cancel}},[_c('div',{staticClass:\"tag\"},[_c('p',[_vm._v(\"标签名:\")]),_vm._v(\" \"),_c('a-input',{staticClass:\"tagname\",attrs:{\"placeholder\":\"请输入要添加的标签名\"},model:{value:(_vm.Tagname),callback:function ($$v) {_vm.Tagname=$$v},expression:\"Tagname\"}})],1)]),_vm._v(\" \"),_c('a-modal',{attrs:{\"title\":\"删除标签\",\"visible\":_vm.DeleteModal,\"okText\":\"确认删除\",\"cancelText\":\"取消\"},on:{\"ok\":_vm.openTagmodal,\"cancel\":_vm.CancelTagmodal}},[_c('p',[_vm._v(\"您要删除此条标签吗?\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5d61c7dc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/tag.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5d61c7dc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./tag.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./tag.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./tag.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5d61c7dc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./tag.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5d61c7dc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/tag.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}